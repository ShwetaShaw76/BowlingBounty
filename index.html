<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Bowling Bounty</title>
  <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <a-scene>
    <a-assets>
      <img id="background" src="R.jpg">
      <img id="lane" src="bowling_lane.jpg">
      <img id="goal" src="goal.gif">
    </a-assets>
    <a-sky src="#background"></a-sky>
   <a-sphere id="ball"
     color="red"
     radius="3"
     position="0 -2.5 18"
     animation="property:position; to:0 -2.5 2; loop:false ;dur:1000; elasticity:900">
     </a-sphere>
  <a-cylinder
     id="pin1"
    color="white"
    radius="1.5"
    height="10"
    animation="property:rotation; from:0 0 0; to:30 30 30; dur:430; loop:false;delay:510"
    animation_2="property:position; from:0 0 0;to:0 0 40; dur:400; loop:false;delay:510">  
  </a-cylinder>
  <a-cylinder
    id="pin2"
    color="white"
    radius="1.5"
    height="10"
    position="-3.5 0 0" 
    animation="property:rotation; from:0 0 0; to:45 -45 0; dur:400; loop:false ;delay:480">
  </a-cylinder>
  <a-cylinder
    id="pin3"
    color="white"
    radius="1.5"
    height="10"
    position="3.5 0 0"
    animation="property:rotation; from:0 0 0; to:-20 -20 0; dur:400; loop:false ;delay:480">  
  </a-cylinder>
    <a-cylinder
      id="pin4"
      color="white"
      radius="1.5"
      height="10"
      position="-7 0 0"
      animation="property:rotation; from:0 0 0; to:30 -30 0; dur:400; loop:false ;delay:550">  
    </a-cylinder>
    <a-cylinder
      id="pin5"
      color="white"
      radius="1.5"
      height="10"
      position="7 0 0"
      animation="property:rotation; from:0 0 0; to:-40 -40 0; dur:400; loop:false ;delay:550">  
    </a-cylinder>
    <a-plane
      color="black"
      height="20"
      width="25"
      depth="-2"
      position="0 0 -5">
    </a-plane>
    <a-plane id="display"
    animation="property: material.src:#goal;loop:false;delay:550"
      color="grey"
      height="10"
      width="25"
      depth="-2"
      position="0 15 -5">
    </a-plane>
    <a-plane
      color="brown"
      height="45"
      width="30"
      depth="-2"
      position="0 0 -6">
    </a-plane>
    <a-entity cursor="rayOrigin: mouse"></a-entity>
    <a-circle id="reload"
    position="40 15 0"
    radius="3"
    color="blue" 
    src="reload.png"
    class="clickable">
  </a-circle>
    <a-plane src="#lane"
    rotation="-90 0 0"
    scale="20 50 4"
    position="0 -5 0"> 
    </a-plane>
    <a-plane color="skyblue"
    rotation="-90 0 0"
    scale="10 50 4"
    position="15 -6 0"> 
    </a-plane>
    <a-plane color="skyblue"
    rotation="-90 0 0"
    scale="10 50 4"
    position="-15 -6 0"> 
    </a-plane>
    <a-camera
    user-height="1.6" 
    position="0 0 27"></a-camera>
  </a-scene>
  <script>
    var rel =document.querySelector('#reload')
    var ball=document.querySelector('#ball')
    var pin1=document.querySelector('#pin1')
    var pin2=document.querySelector('#pin2')
    var pin3=document.querySelector('#pin3')
    var pin4=document.querySelector('#pin4')
    var pin5=document.querySelector('#pin5')
    var display=document.querySelector('#display')
    rel.addEventListener("click",function(){
      ball.setAttribute("position",{x:0,y:-2.5,z:18})
      display.setAttribute("material","color","grey")
      ball.setAttribute("animation",{property:'position', to:{x:0, y:-2.5, z:2}, loop:false ,dur:1000, elasticity:900})
      pin1.setAttribute("rotation",{x:0,y:0,z:0})
      pin2.setAttribute("rotation",{x:0,y:0,z:0})
      pin3.setAttribute("rotation",{x:0,y:0,z:0})
      pin4.setAttribute("rotation",{x:0,y:0,z:0})
      pin5.setAttribute("rotation",{x:0,y:0,z:0})
      pin1.setAttribute("animation",{property:'rotation', from:{x:0, y:0, z:0}, to:{x:45, y:-45, z:0}, dur:400, loop:false ,delay:480})
      pin2.setAttribute("animation",{property:'rotation', from:{x:0, y:0, z:0}, to:{x:45 ,y:-45 ,z:0},dur:400, loop:false ,delay:480})
      pin3.setAttribute("animation",{property:'rotation', from:{x:0, y:0, z:0}, to:{x:-20,y: -20,z: 0}, dur:400, loop:false ,delay:480})
      pin4.setAttribute("animation",{property:'rotation', from:{x:0, y:0, z:0}, to:{x:30 ,y:-30 ,z:0},dur:400, loop:false ,delay:550})
      pin5.setAttribute("animation",{property:'rotation', from:{x:0, y:0, z:0}, to:{x:-40,y: -40,z: 0}, dur:400, loop:false ,delay:550})
      
    setTimeout(function(){
      setTimeout(function(){
      display.setAttribute("material","src","#goal")
    },550);
  },0);
  })
  </script>
</body>
</html>